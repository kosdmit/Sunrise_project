<section class="projects-section bg-light" id="projects">
  <div class="container px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-lg-8 mb-4 text-center">
        <h2 class="mb-4">Каталог реализованных проектов</h2>
        <div class="mb-4">
          Откройте мир уникальных пространств, созданных нами.
          Приглашаем вас на виртуальную экскурсию по разнообразным концепциям идеальной
          гармонии между функциональностью и эстетикой.
          Вдохновитесь идеями для вашего будущего проекта.
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center mb-4" id="category-buttons">
      <div class="btn-group pt-4">
        {% for category in categories %}
          <a class="btn btn-standard btn-category btn-outline-dark"
             href="?category={{ category.slug }}#category-buttons"
             id="category-button-{{ category.slug }}">
            {{ category.title }}
          </a>
        {% endfor %}
        <a href="/#category-buttons" class="btn btn-standard btn-category btn-outline-dark active"
           aria-current="page" id="category-button-all">
          Все категории
        </a>
      </div>
    </div>
  </div>
  <div class="container-fluid px-4 px-lg-5">
    <div class="masonry-grid">
      <div class="grid-sizer"></div>
      {% for project in page_obj %}
        <div class="grid-item {% if project.is_featured %}grid-item--width2{% endif %}">
          {% include 'sections/projects__card.html' %}
          {% include 'elements/modal.html' %}
        </div>
      {% empty %}
        <p class="text-center text-body-tertiary pt-5">В этой категории пока нет проектов</p>
      {% endfor %}
    </div>
    <div class="d-flex justify-content-center flex-column mt-3">
      <div class="page-load-status" style="display: none">
        <div class="infinite-scroll-request">
          <div class="d-flex justify-content-center">
            <button class="btn btn-glass-gray shadow-none" type="button">
              <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
              <span role="status">Показать еще <i class="fa-solid fa-angles-down"></i></span>
            </button>
          </div>
        </div>
        <p class="infinite-scroll-error text-center">No more pages to load</p>
        <div class="infinite-scroll-last">
          <div class="d-flex justify-content-center">
            <a class="btn btn-glass-gray shadow-none" href="#tariffs">
              К предложениям <i class="fa-solid fa-angles-down"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="text-center">
        <button class="btn btn-glass-gray shadow-none view-more-button" type="button"
                {% if not page_obj.has_next %}style="display: none{% endif %}">
          Показать еще <i class="fa-solid fa-angles-down"></i>
        </button>
      </div>
      {% include 'elements/pagination.html' %}
    </div>
  </div>
</section>